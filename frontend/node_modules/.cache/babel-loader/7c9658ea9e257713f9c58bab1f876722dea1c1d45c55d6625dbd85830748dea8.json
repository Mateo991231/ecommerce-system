{"ast":null,"code":"import _objectSpread from\"/Users/mateo.quintero/Documents/ecommerce-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';const API_BASE_URL='http://localhost:8080/api';const api=axios.create({baseURL:API_BASE_URL});// Request interceptor to add auth token\napi.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;});// Auth API\nexport const authAPI={login:credentials=>api.post('/auth/login',credentials).then(res=>res.data),register:userData=>api.post('/auth/register',userData).then(res=>res.data)};// Products API\nexport const productsAPI={getProducts:function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;return api.get(\"/products?page=\".concat(page,\"&size=\").concat(size)).then(res=>res.data);},searchProducts:function(params){let page=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let size=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;const searchParams=new URLSearchParams(_objectSpread({page:page.toString(),size:size.toString()},Object.fromEntries(Object.entries(params).filter(_ref=>{let[_,v]=_ref;return v;}))));return api.get(\"/products/search?\".concat(searchParams)).then(res=>res.data);}};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","concat","authAPI","login","credentials","post","then","res","data","register","userData","productsAPI","getProducts","page","arguments","length","undefined","size","get","searchProducts","params","searchParams","URLSearchParams","_objectSpread","toString","Object","fromEntries","entries","filter","_ref","_","v"],"sources":["/Users/mateo.quintero/Documents/ecommerce-system/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\nimport { LoginRequest, JwtResponse, Product, PageResponse } from '../types';\n\nconst API_BASE_URL = 'http://localhost:8080/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n});\n\n// Request interceptor to add auth token\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Auth API\nexport const authAPI = {\n  login: (credentials: LoginRequest): Promise<JwtResponse> =>\n    api.post('/auth/login', credentials).then(res => res.data),\n  \n  register: (userData: any): Promise<any> =>\n    api.post('/auth/register', userData).then(res => res.data),\n};\n\n// Products API\nexport const productsAPI = {\n  getProducts: (page = 0, size = 10): Promise<PageResponse<Product>> =>\n    api.get(`/products?page=${page}&size=${size}`).then(res => res.data),\n  \n  searchProducts: (params: any, page = 0, size = 10): Promise<PageResponse<Product>> => {\n    const searchParams = new URLSearchParams({\n      page: page.toString(),\n      size: size.toString(),\n      ...Object.fromEntries(Object.entries(params).filter(([_, v]) => v))\n    });\n    return api.get(`/products/search?${searchParams}`).then(res => res.data);\n  },\n};\n\nexport default api;"],"mappings":"8IAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAGzB,KAAM,CAAAC,YAAY,CAAG,2BAA2B,CAEhD,KAAM,CAAAC,GAAG,CAAGF,KAAK,CAACG,MAAM,CAAC,CACvBC,OAAO,CAAEH,YACX,CAAC,CAAC,CAEF;AACAC,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,EAAK,CACvC,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAE,CACTD,MAAM,CAACI,OAAO,CAACC,aAAa,WAAAC,MAAA,CAAaL,KAAK,CAAE,CAClD,CACA,MAAO,CAAAD,MAAM,CACf,CAAC,CAAC,CAEF;AACA,MAAO,MAAM,CAAAO,OAAO,CAAG,CACrBC,KAAK,CAAGC,WAAyB,EAC/Bf,GAAG,CAACgB,IAAI,CAAC,aAAa,CAAED,WAAW,CAAC,CAACE,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAE5DC,QAAQ,CAAGC,QAAa,EACtBrB,GAAG,CAACgB,IAAI,CAAC,gBAAgB,CAAEK,QAAQ,CAAC,CAACJ,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAC7D,CAAC,CAED;AACA,MAAO,MAAM,CAAAG,WAAW,CAAG,CACzBC,WAAW,CAAE,QAAAA,CAAA,KAAC,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,IAAI,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,OAC/B,CAAAzB,GAAG,CAAC6B,GAAG,mBAAAjB,MAAA,CAAmBY,IAAI,WAAAZ,MAAA,CAASgB,IAAI,CAAE,CAAC,CAACX,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,GAEtEW,cAAc,CAAE,QAAAA,CAACC,MAAW,CAA0D,IAAxD,CAAAP,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,IAAI,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAC/C,KAAM,CAAAO,YAAY,CAAG,GAAI,CAAAC,eAAe,CAAAC,aAAA,EACtCV,IAAI,CAAEA,IAAI,CAACW,QAAQ,CAAC,CAAC,CACrBP,IAAI,CAAEA,IAAI,CAACO,QAAQ,CAAC,CAAC,EAClBC,MAAM,CAACC,WAAW,CAACD,MAAM,CAACE,OAAO,CAACP,MAAM,CAAC,CAACQ,MAAM,CAACC,IAAA,MAAC,CAACC,CAAC,CAAEC,CAAC,CAAC,CAAAF,IAAA,OAAK,CAAAE,CAAC,GAAC,CAAC,CACpE,CAAC,CACF,MAAO,CAAA1C,GAAG,CAAC6B,GAAG,qBAAAjB,MAAA,CAAqBoB,YAAY,CAAE,CAAC,CAACf,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAC1E,CACF,CAAC,CAED,cAAe,CAAAnB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}