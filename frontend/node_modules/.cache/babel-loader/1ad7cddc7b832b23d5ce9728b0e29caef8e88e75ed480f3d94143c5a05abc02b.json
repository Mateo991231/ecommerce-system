{"ast":null,"code":"import _objectSpread from\"/Users/mateo.quintero/Documents/ecommerce-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Typography,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,TextField,Button,Dialog,DialogTitle,DialogContent,DialogActions,Box,Alert}from'@mui/material';import{api}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Inventory=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[editDialog,setEditDialog]=useState(false);const[selectedProduct,setSelectedProduct]=useState(null);const[newStock,setNewStock]=useState(0);useEffect(()=>{fetchProducts();},[]);const fetchProducts=async()=>{try{const response=await api.get('/products?size=100');setProducts(response.data.content);}catch(err){setError('Error loading inventory');}finally{setLoading(false);}};const handleUpdateStock=async()=>{if(!selectedProduct)return;try{await api.put(\"/products/\".concat(selectedProduct.id),_objectSpread(_objectSpread({},selectedProduct),{},{stock:newStock}));setEditDialog(false);fetchProducts();}catch(err){setError('Error updating stock');}};const openEditDialog=product=>{setSelectedProduct(product);setNewStock(product.stock);setEditDialog(true);};if(loading)return/*#__PURE__*/_jsx(Typography,{children:\"Loading...\"});return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Inventory Management\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Product\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Category\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Price\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Stock\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:products.map(product=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:product.name}),/*#__PURE__*/_jsx(TableCell,{children:product.category}),/*#__PURE__*/_jsxs(TableCell,{children:[\"$\",product.price]}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Box,{color:product.stock<10?'error.main':'text.primary',children:product.stock})}),/*#__PURE__*/_jsx(TableCell,{children:product.isActive?'Active':'Inactive'}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Button,{onClick:()=>openEditDialog(product),children:\"Update Stock\"})})]},product.id))})]})}),/*#__PURE__*/_jsxs(Dialog,{open:editDialog,onClose:()=>setEditDialog(false),children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Update Stock\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{mb:2},children:[\"Product: \",selectedProduct===null||selectedProduct===void 0?void 0:selectedProduct.name]}),/*#__PURE__*/_jsx(TextField,{label:\"New Stock\",type:\"number\",value:newStock,onChange:e=>setNewStock(Number(e.target.value)),fullWidth:true})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setEditDialog(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleUpdateStock,variant:\"contained\",children:\"Update\"})]})]})]});};export default Inventory;","map":{"version":3,"names":["React","useState","useEffect","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","TextField","Button","Dialog","DialogTitle","DialogContent","DialogActions","Box","Alert","api","jsx","_jsx","jsxs","_jsxs","Inventory","products","setProducts","loading","setLoading","error","setError","editDialog","setEditDialog","selectedProduct","setSelectedProduct","newStock","setNewStock","fetchProducts","response","get","data","content","err","handleUpdateStock","put","concat","id","_objectSpread","stock","openEditDialog","product","children","variant","gutterBottom","severity","sx","mb","component","map","name","category","price","color","isActive","onClick","open","onClose","label","type","value","onChange","e","Number","target","fullWidth"],"sources":["/Users/mateo.quintero/Documents/ecommerce-system/frontend/src/components/Inventory.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container, Typography, Table, TableBody, TableCell, TableContainer,\n  TableHead, TableRow, Paper, TextField, Button, Dialog, DialogTitle,\n  DialogContent, DialogActions, Box, Alert\n} from '@mui/material';\nimport { api } from '../services/api';\n\ninterface Product {\n  id: number;\n  name: string;\n  category: string;\n  price: number;\n  stock: number;\n  isActive: boolean;\n}\n\nconst Inventory: React.FC = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editDialog, setEditDialog] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [newStock, setNewStock] = useState(0);\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    try {\n      const response = await api.get('/products?size=100');\n      setProducts(response.data.content);\n    } catch (err) {\n      setError('Error loading inventory');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdateStock = async () => {\n    if (!selectedProduct) return;\n    \n    try {\n      await api.put(`/products/${selectedProduct.id}`, {\n        ...selectedProduct,\n        stock: newStock\n      });\n      setEditDialog(false);\n      fetchProducts();\n    } catch (err) {\n      setError('Error updating stock');\n    }\n  };\n\n  const openEditDialog = (product: Product) => {\n    setSelectedProduct(product);\n    setNewStock(product.stock);\n    setEditDialog(true);\n  };\n\n  if (loading) return <Typography>Loading...</Typography>;\n\n  return (\n    <Box>\n      <Typography variant=\"h4\" gutterBottom>Inventory Management</Typography>\n      \n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\n\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Product</TableCell>\n              <TableCell>Category</TableCell>\n              <TableCell>Price</TableCell>\n              <TableCell>Stock</TableCell>\n              <TableCell>Status</TableCell>\n              <TableCell>Actions</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {products.map((product) => (\n              <TableRow key={product.id}>\n                <TableCell>{product.name}</TableCell>\n                <TableCell>{product.category}</TableCell>\n                <TableCell>${product.price}</TableCell>\n                <TableCell>\n                  <Box color={product.stock < 10 ? 'error.main' : 'text.primary'}>\n                    {product.stock}\n                  </Box>\n                </TableCell>\n                <TableCell>{product.isActive ? 'Active' : 'Inactive'}</TableCell>\n                <TableCell>\n                  <Button onClick={() => openEditDialog(product)}>\n                    Update Stock\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      <Dialog open={editDialog} onClose={() => setEditDialog(false)}>\n        <DialogTitle>Update Stock</DialogTitle>\n        <DialogContent>\n          <Typography variant=\"body1\" sx={{ mb: 2 }}>\n            Product: {selectedProduct?.name}\n          </Typography>\n          <TextField\n            label=\"New Stock\"\n            type=\"number\"\n            value={newStock}\n            onChange={(e) => setNewStock(Number(e.target.value))}\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setEditDialog(false)}>Cancel</Button>\n          <Button onClick={handleUpdateStock} variant=\"contained\">Update</Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default Inventory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}